#此工作流使用未经GitHub认证的操作。
#它们由第三方提供，并由
#单独的服务条款、隐私政策和支持
#documentation。

#此工作流允许您为项目生成SLSA来源文件。
#这一代满足来源要求的3级-请参阅https://slsa.dev/spec/v0.1/requirements
#该项目是OpenSSF(openssf.org)的一项倡议，开发于
#https://github.com/slsa-framework/slsa-github-generator.
#可使用验证出处文件https://github.com/slsa-framework/slsa-verifier.
#有关SLSA及其如何改进供应链的更多信息，请访问SLSA.dev.

姓名: SLSA通用生成器
在……之上:
workflow_dispatch:
释放:
类型: [类型：[已创建]]

工作:
建立:
连续的: 连续的:Ubuntu-最新
输出:
摘要: 摘要：${{steps.hash.outputs.digests}}{{steps.hash.outputs.digests}}

步骤:
      - uses: -使用：操作/结帐@v4

#========================================================# ========================================================
      #
#步骤1：构建工件。 #步骤1：构建工件。
      #
#========================================================# ========================================================
      - 姓名: -名称：生成项目
跑: |
这些是一些惊人的文物。
回声"工件1">伪影1
回声"工件2">伪影2

#========================================================# ========================================================
      #
#Step2：添加生成出处主题的步骤#Step2：添加步骤以生成出处主题
#，更新sha256sum参数#，如下所示
#以包括生成的所有二进制文件。 #包含生成的所有二进制文件
#的出处。#的出处。
      #
#========================================================# ========================================================
      - 姓名: -名称：为出处生成主题
身份标识: 身份标识：哈希
跑: |
set-euo管道故障

#列出出处将引用的工件。
文件=$(ls项目*)
#生成主题(base64编码).
回声"hashes=$(sha256sum$文件|base64-w0)">"${GITHUB_OUTPUT}"

出处:
需要: [需求：[构建]]
权限:
行动: 操作：read#读取工作流程路径.#读取工作流程路径.
id-token: id-token：写#以签署出处。#来签署出处。
内容: 内容：写#将资产添加到版本。 #若要将资产添加到发布中，请执行以下操作。
uses: 用途：slsa-framework/slsa-github-generator/.GitHub/workflows/generator_generic_slsa3。yml@v1.4.0
和……一起:
base64-subjects: "${{deceptes.build.outputs.digests}}"
上载资产: 上载资产:正确#可选：上传到新版本#可选择的: 上传到新版本
